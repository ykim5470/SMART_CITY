From 3b8a62236bd6845328b54d843d95c3b12eccc104 Mon Sep 17 00:00:00 2001
From: gyeongseo944 <gyeongseo944@gmail.com>
Date: Tue, 8 Jun 2021 15:19:08 +0900
Subject: [PATCH] =?UTF-8?q?[=EB=B0=95=EA=B2=BD=EC=84=9C]=20=EC=B4=88?=
 =?UTF-8?q?=EA=B8=B0=20routes=20=EC=84=A4=EC=A0=95=20=EB=B0=8F=20app.js=20?=
 =?UTF-8?q?=EC=88=98=EC=A0=95?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 app.js                       | 12 ++++++++----
 routes/analysis.js           | 15 +++++++++++++++
 routes/auth.js               | 22 ++++++++++++++++++++++
 routes/index.js              | 14 ++++++++++++++
 routes/model_manage_board.js | 10 ++++++++++
 views/analysis/al_list.html  | 16 +++++++---------
 views/index.html             | 20 +++++++++-----------
 7 files changed, 85 insertions(+), 24 deletions(-)
 create mode 100644 routes/analysis.js
 create mode 100644 routes/auth.js

diff --git a/app.js b/app.js
index 26f3e95..ed26047 100644
--- a/app.js
+++ b/app.js
@@ -2,10 +2,13 @@ const express = require("express");
 const morgan = require("morgan");
 const dotenv = require("dotenv");
 const path = require("path");
-const sequelize = require('sequelize')
-const models = require('./models/index')
+const sequelize = require('sequelize');
+const models = require('./models/index');
 const nunjucks = require("nunjucks");
-const model_manage_board_router = require('./routes/model_manage_board')
+
+//routers 
+const index_router = require('./routes/index');
+const model_manage_board_router = require('./routes/model_manage_board');
 
 
 models.sequelize.sync().then(() => {
@@ -17,13 +20,14 @@ models.sequelize.sync().then(() => {
 dotenv.config();
 const app = express();
 app.set("port", process.env.PORT || 4000);
+app.set('views', path.join(__dirname, 'views'));
 app.set("view engine", "html");
 nunjucks.configure("views", {
   express: app,
   watch: true,
 });
 
-
+app.use('/', index_router);
 app.get('/model_manage_board', model_manage_board_router)
 app.use(morgan("dev"));
 app.use(express.static(path.join(__dirname, "public")));
diff --git a/routes/analysis.js b/routes/analysis.js
new file mode 100644
index 0000000..e856be7
--- /dev/null
+++ b/routes/analysis.js
@@ -0,0 +1,15 @@
+const express = require("express");
+const router = express.Router();
+
+// Get
+const output = {
+  
+};
+
+// Post
+const process = {};
+
+module.exports = {
+  output,
+  process,
+};
diff --git a/routes/auth.js b/routes/auth.js
new file mode 100644
index 0000000..bab0649
--- /dev/null
+++ b/routes/auth.js
@@ -0,0 +1,22 @@
+const express = require("express");
+const router = express.Router();
+
+// Get
+const output = {
+  fff: async (req, res) => {
+    try {
+      const data = await model_list.findAll();
+      return res.render("model/model_manage_board", { test: "a", allList: data });
+    } catch (err) {
+      return res.status(500).json({ error: "Something went wrong" });
+    }
+  },
+};
+
+// Post
+const process = {};
+
+module.exports = {
+  output,
+  process,
+};
diff --git a/routes/index.js b/routes/index.js
index e69de29..6cdfb5f 100644
--- a/routes/index.js
+++ b/routes/index.js
@@ -0,0 +1,14 @@
+const express = require("express");
+const router = express.Router();
+const auth = require("./auth");
+const auth = require("./analysis");
+
+//router.get
+router.get("/", function (req, res, next) {
+  res.render("index");
+});
+router.get("/", auth.output.fff);
+
+//router.post
+
+module.exports = router;
\ No newline at end of file
diff --git a/routes/model_manage_board.js b/routes/model_manage_board.js
index 886d14a..fdddbd8 100644
--- a/routes/model_manage_board.js
+++ b/routes/model_manage_board.js
@@ -12,6 +12,16 @@ router.get('/model_manage_board', async (req, res) => {
     }
 })
 
+const out = {
+    ttt :  async (req, res) => {
+    try {
+        const data = await model_list.findAll()
+        return res.render('model/model_manage_board', { test: 'a', allList: data })
+    }catch(err){
+        return res.status(500).json({error: 'Something went wrong'})
+    }
+}
+}
 
 router.post('/model_manage_board', async (req, res) => {
     try {
diff --git a/views/analysis/al_list.html b/views/analysis/al_list.html
index d2163f3..5482f12 100644
--- a/views/analysis/al_list.html
+++ b/views/analysis/al_list.html
@@ -1,12 +1,10 @@
 <!DOCTYPE html>
 <html lang="en">
-<head>
-    <meta charset="UTF-8">
-    <meta http-equiv="X-UA-Compatible" content="IE=edge">
-    <meta name="viewport" content="width=device-width, initial-scale=1.0">
+  <head>
+    <meta charset="UTF-8" />
+    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
+    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>분석테이블 리스트</title>
-</head>
-<body>
-    
-</body>
-</html>
\ No newline at end of file
+  </head>
+  <body></body>
+</html>
diff --git a/views/index.html b/views/index.html
index 85390ce..4973aa0 100644
--- a/views/index.html
+++ b/views/index.html
@@ -1,14 +1,12 @@
 <!DOCTYPE html>
 <html lang="en">
-<head>
-    <meta charset="UTF-8">
-    <meta http-equiv="X-UA-Compatible" content="IE=edge">
-    <meta name="viewport" content="width=device-width, initial-scale=1.0">
+  <head>
+    <meta charset="UTF-8" />
+    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
+    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>Smart Water Analysis Dashboard</title>
-</head>
-<body>
-    {% block content %} 
-    
-    {% endblock %}
-</body>
-</html>
\ No newline at end of file
+  </head>
+  <body>
+    {% block content %} {% endblock %}
+  </body>
+</html>
-- 
2.31.1.windows.1

